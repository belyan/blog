# Как я вспоминал школьную геометрию

![image](../images/geometry.png)

Как часто вам приходилось решать дифференциальное уравнение или находить интеграл после окончания учебы? Думаю, что нечасто, если конечно вы не занимаетесь наукой. Но есть дисциплины, знания по которым нам пригождаются довольно часто. И один из них - это геометрия.

***

В этой статье я хочу рассказать об одной задаче, решить которую мне помогли геометрические формулы. И поскольку я занимаюсь разработкой интерфейсов, то речь пойдет о верстке вот такого всплывающего сообщения.

![image](../images/popover.png)

На первый взгляд ничего сложного. Быстро набрасываем основные стили, добавляем скругления и тень, а указатель в виде трегульника делаем с помощью псевдоэлемента и [широко известной техники](https://css-tricks.com/snippets/css/css-triangle/). Проверяем результат:

http://codepen.io/#1/

Все хорошо, вот только треугольник тоже должен быть с тенью. Но если мы добавим тень к нашему псевдоэлементу, то ничего не получится - тень будет квадратной.

![image](../images/css-triangle-1.png)

http://codepen.io/#2/

Очевидно, что данный способ подходит только для создания простых треугольников.

Попробуем применить другую - чуть менее известную технику созлания треугольников в CSS. Опять воспользуемся бордерами, только сделаем трегольник в левом верхнем углу, добавим элементу тень и сдвинем ее в тот же угол с помощью отрицательных значений. Теперь повернем элемент на 45 градусов по часовой стрелке и получим трегуольник с тенью.

![image](../images/css-triangle-2.png)

http://codepen.io/#3/

Результат уже лучше, но не идеален. Если присмотреться, то видно, что на макете трегольник чуть шире, чем у нас. И мы не сможем это исправить, поскольку наш треугольник всегда будет оставаться равнобедренным и **прямогульным**. Мы можем добавить ему скругление, и даже сэмулировать обводку с помощью внутренней тени, но мы не можем изменить значение верхнего угла.

Для создания **не** прямоугольного треугольника воспользуемся более сложным способом. Суть его в том, что мы создаем квадрат, наклоняем его на нужный угол, чтобы получить ромб и затем скрываем его нижнюю часть. В результате получаем равнобедренный треугольник любых размеров, которому мы можем добавить тень, границу и скругление. 

![image](../images/css-triangle-3.png)

Сложность заключается в том, что приходится вручную подбирать размеры, угол поворота и наклона пока не получится приемлимый результат. Поэтому многие этот способ и не используют. Так давайте напишем миксин, который будет делать все вычисления за нас!

## Пишем миксин

